<p id="notice"><%= notice %></p>

<h1>Annual Ranks</h1>

<% if current_user  %>
  <%= link_to 'Albums', albums_path %> |
  <%= link_to 'Artists', artists_path %> |
  <%= link_to 'Home', root_path %> <br>
<% end %>
<br>

<h2>Station Annual Lists
  <span class="inline left-space">
    <button class="accordion-button radio-inline" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-station">
    &nbsp&nbsp</button>
  </span>
</h2>
<div class="collapse" id="collapse-station" >
  <% stations = AnnualRank.list_source %>
  <% stations.each do |station| %>
    <p><%= link_to station.source, :action => "index", :source => station.source %>
    <% AnnualRank.lookup_source(station.source).list_year.each do |year| %>
      <%= link_to year.year, :action => "index", :source => station.source, :year => year.year  %>
    <% end %>
    </p>
  <% end %>
</div>
<br>

<h2>Genre Lists
  <span class="inline left-space">
    <button class="accordion-button radio-inline" type="button" data-bs-toggle="collapse" data-bs-target="#genre-collapse">
    &nbsp&nbsp</button>
  </span>
</h2>
<div class="collapse" id="genre-collapse" >
  <% genres = AnnualRank.list_genre %>
  <% genres.each do |genre| %>
    <p><%= link_to genre.rank_genre, :action => "index", :source => genre.rank_genre %>
    <% AnnualRank.lookup_genre(genre.rank_genre).list_year.each do |year| %>
      <%= link_to year.year, :action => "index", :rank_genre => genre.rank_genre, :year => year.year %>
    <% end %>
    </p>
  <% end %>
</div>
<br>

<h2>All-Time Station Collections
  <span class="inline left-space">
    <button class="accordion-button radio-inline" type="button" data-bs-toggle="collapse" data-bs-target="#all-time-collapse">
    &nbsp&nbsp</button>
  </span>
</h2>
<div class="collapse" id="all-time-collapse" >
  <% all_times = AnnualRank.list_rank_genre %>
  <% all_times.each do |all_time| %>
    <p><%= link_to all_time.source, :action => "index", :source => all_time.source %>
    </p>
  <% end %>
  <p><%= link_to "All-Time Alternative", :action => "index", :alt_collection => true %></p>
</div>
<br>
<br>
<br>
<br>


<table>
  <thead>
    <tr>
      <th>Rank</th>
      <th>Year</th>
      <th>Source</th>
      <th>Rank Artist</th>
      <th>Rank Track</th>
      <th>Rank Album</th>
      <th>Listened</th>
      <th>Alt Collection</th>
      <th colspan="3"></th>
    </tr>
  </thead>
  <tbody>
    <% @annual_ranks.each do |annual_rank| %>
      <tr>
        <td><%= annual_rank.rank %></td>
        <td><%= annual_rank.year %></td>
        <td><%= annual_rank.source %></td>
        <td><%= annual_rank.rank_artist %></td>
        <td><%= annual_rank.rank_track %></td>
        <td><%= annual_rank.rank_album %></td>
        <td><%= annual_rank.rank_listened %></td>
        <td><%= annual_rank.alt_collection %></td>
        <td><%= link_to 'Show', annual_rank_path(annual_rank) %></td>
        <td><%= link_to 'Edit', edit_annual_rank_path(annual_rank) %></td>
        <td><%= link_to 'Destroy', annual_rank_path(annual_rank), method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<br>

<% if !@annual_ranks.nil? && @annual_ranks.count > 200 %>
  <%= will_paginate @annual_ranks %>
<% end %>
<br>
<br>
<br>
<br>



<%= link_to 'New Annual Rank', new_annual_rank_path %>
